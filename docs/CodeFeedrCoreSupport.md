## Support for a CodeFeedr core plugin

To add support for a CodeFeedr plugin the [input stages](http://codefeedr.org/codefeedr/mydoc_pipeline.html#inputstage) that produce for requested topics need to override the getSchema method.
The method should return an AvroSchema of the output type of the stage generated by avro4s. 
The 
To update the information about the data schema in Zookeeper, every input stage must be run as a part of a CodeFeedr pipeline at least once. <br/>
Supported output types are scala case classes (possibly nested), all primitives, Dates, SQL Timestamps, Arrays & Lists.<br/>
The following is an example for the PyPI plugin:
```Scala

import com.sksamuel.avro4s.AvroSchema

class PyPiReleasesStage(stageId: String = "pypi_releases_min", sourceConfig: PyPiSourceConfig = PyPiSourceConfig()) extends InputStage[PyPiRelease](Some(stageId)) {

  override def main(context: Context): DataStream[PyPiRelease] =
    context.env
      .addSource(new PyPiReleasesSource(sourceConfig))

  override def getSchema: Schema = {
    implicit val dateSchema: DateSchemaFor = new DateSchemaFor(true)
    AvroSchema[PyPiRelease]
  }
}
```
Don't forget to specify the zookeeper address in the buffer properties.
```Scala
new PipelineBuilder().setBufferProperty(KafkaBuffer.ZOOKEEPER, "localhost:2181")
```